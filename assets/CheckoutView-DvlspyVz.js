import{j as S,A as V,k as f,l as C,c as d,g as s,B as R,y as p,z as g,u as o,F as b,e as h,C as U,f as T,w as q,t as u,h as B,o as r,D as w,m as E,R as M}from"./index-CSa8JcRq.js";var a=[];for(var _=0;_<256;++_)a.push((_+256).toString(16).slice(1));function A(i,n=0){return(a[i[n+0]]+a[i[n+1]]+a[i[n+2]]+a[i[n+3]]+"-"+a[i[n+4]]+a[i[n+5]]+"-"+a[i[n+6]]+a[i[n+7]]+"-"+a[i[n+8]]+a[i[n+9]]+"-"+a[i[n+10]]+a[i[n+11]]+a[i[n+12]]+a[i[n+13]]+a[i[n+14]]+a[i[n+15]]).toLowerCase()}var v,I=new Uint8Array(16);function N(){if(!v&&(v=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(I)}var F=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const x={randomUUID:F};function j(i,n,c){if(x.randomUUID&&!n&&!i)return x.randomUUID();i=i||{};var l=i.random||(i.rng||N)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,A(l)}const L={class:"checkout-page mt-100"},O={class:"container"},P={class:"row"},z={class:"col-xl-9 col-lg-8 col-md-12 col-12"},H={class:"shipping-address-area"},K={class:".shipping-address-form-wrapper"},W={class:"row mb-3"},G={class:"col-lg-6 col-md-12 col-12"},J={class:"col-lg-6 col-md-12 col-12"},Q={class:"row my-3"},X={class:"form-check"},Y=["value","id","checked"],Z=["for"],$={class:"row my-3"},ss={class:"col-lg-6 col-md-12 col-12"},ts={class:"col-lg-6 col-md-12 col-12"},ls={class:"col-lg-6 col-md-12 col-12"},os={class:"col-lg-6 col-md-12 col-12"},es={class:"col-lg-6 col-md-12 col-12"},is={class:"col-lg-6 col-md-12 col-12"},ns=["value"],as={class:"col-md-12 col-12"},ds={class:"row"},rs={class:"form-check"},ps=["value","id","checked"],us=["for"],cs={class:"col-md-12 col-12"},ms={class:"d-flex align-items-center justify-content-between flex-wrap"},gs={class:"col-xl-3 col-lg-4 col-md-12 col-12"},bs={class:"cart-total-area checkout-summary-area"},hs={class:"mini-img-wrapper"},vs=["src"],ys={class:"product-info"},fs={class:"product-title"},_s={href:"#"},Ds={class:"product-vendor"},ks={class:"cart-total-box mt-4 bg-transparent p-0"},Us={class:"subtotal-item subtotal-box"},ws={class:"subtotal-value"},xs={class:"subtotal-item shipping-box"},Ss={key:0,class:"subtotal-value"},Vs={key:1,class:"subtotal-value"},Cs={class:"subtotal-item discount-box"},Rs={class:"subtotal-value"},Ts={class:"subtotal-item discount-box"},qs={key:0,class:"subtotal-value"},Ms={__name:"CheckoutView",setup(i){let n=j();const c=S(),l=V();f(!1);const D=f(""),k={ship:"Ship",pickup:"pick up in store"};return f({tx_ref:n,amount:c.totalPrice,paymentMethod:"credit_card",redirect_url:"",max_retry_attempt:5,customer:{email:"",name:"",phonenumber:""},customizations:{title:"Welcome to TagBiz",description:""}}),C(async()=>{await l.getShipping(),await l.getShippingCost()}),(Bs,t)=>(r(),d("div",L,[s("div",O,[s("div",P,[s("div",z,[t[28]||(t[28]=s("div",{class:"header"},[s("h2",{class:".pb-1"},"Billing address")],-1)),s("div",H,[s("div",K,[s("form",{onSubmit:t[11]||(t[11]=R((...e)=>o(c).addForShipping&&o(c).addForShipping(...e),["prevent"]))},[s("div",W,[t[14]||(t[14]=s("h2",{class:"shipping-address-heading pb-1 my-3"},"Contact",-1)),s("div",G,[t[12]||(t[12]=s("label",{class:"form-label",for:"email"},"Email address",-1)),p(s("input",{required:"",id:"email",class:"form-control",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o(l).shippingDetail.email=e)},null,512),[[g,o(l).shippingDetail.email]])]),s("div",J,[t[13]||(t[13]=s("label",{class:"form-label",for:"phone"},"Phone number",-1)),p(s("input",{required:"",id:"phone",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>o(l).shippingDetail.phone=e)},null,512),[[g,o(l).shippingDetail.phone]])])]),s("div",Q,[(r(!0),d(b,null,h(Object.keys(k),(e,m)=>(r(),d("div",X,[p(s("input",{class:"form-check-input",type:"radio",value:e,id:"delivery"+m,"onUpdate:modelValue":t[2]||(t[2]=y=>D.value=y),checked:m===0},null,8,Y),[[w,D.value]]),s("label",{class:"form-check-label",for:"delivery"+m},u(k[e]),9,Z),t[15]||(t[15]=s("span",{class:"float-end"},"ggg",-1))]))),256))]),s("div",$,[s("div",ss,[t[16]||(t[16]=s("label",{class:"form-label",for:"first_name"},"First name",-1)),p(s("input",{required:"",id:"first_name",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>o(l).shippingDetail.first_name=e)},null,512),[[g,o(l).shippingDetail.first_name]])]),s("div",ts,[t[17]||(t[17]=s("label",{class:"form-label",for:"last_name"},"Last name",-1)),p(s("input",{required:"",id:"last_name",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>o(l).shippingDetail.last_name=e)},null,512),[[g,o(l).shippingDetail.last_name]])]),s("div",ls,[t[18]||(t[18]=s("label",{class:"form-label",for:"email"},"Email address",-1)),p(s("input",{required:"",id:"email",class:"form-control",type:"email","onUpdate:modelValue":t[5]||(t[5]=e=>o(l).shippingDetail.email=e)},null,512),[[g,o(l).shippingDetail.email]])]),s("div",os,[t[19]||(t[19]=s("label",{class:"form-label",for:"phone"},"Phone number",-1)),p(s("input",{required:"",id:"phone",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>o(l).shippingDetail.phone=e)},null,512),[[g,o(l).shippingDetail.phone]])]),s("div",es,[t[21]||(t[21]=s("label",{class:"form-label",for:"country"},"Country",-1)),p(s("select",{required:"",id:"country",class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>o(l).shippingDetail.country=e)},t[20]||(t[20]=[s("option",{selected:"",value:"Nigeria"},"Nigeria",-1)]),512),[[U,o(l).shippingDetail.country]])]),s("div",is,[t[23]||(t[23]=s("label",{class:"form-label",for:"city"},"City",-1)),p(s("select",{required:"",class:"form-select","onUpdate:modelValue":t[8]||(t[8]=e=>o(l).shippingDetail.city=e)},[t[22]||(t[22]=s("option",{selected:"",value:"city"},"Select City",-1)),(r(!0),d(b,null,h(o(l).getShippingCostData,e=>(r(),d("option",{value:e.id},u(e.city),9,ns))),256))],512),[[U,o(l).shippingDetail.city]])]),s("div",as,[t[24]||(t[24]=s("label",{class:"form-label",for:"address"},"Address",-1)),p(s("input",{required:"",id:"address",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>o(l).shippingDetail.address=e),length:"20"},null,512),[[g,o(l).shippingDetail.address]])]),s("div",ds,[t[25]||(t[25]=s("h2",{class:"shipping-address-heading pb-1 my-3"}," Shipping Methods ",-1)),(r(!0),d(b,null,h(o(l).locations,(e,m)=>(r(),d("div",rs,[p(s("input",{class:"form-check-input",type:"radio",value:e.region,id:"location"+m,"onUpdate:modelValue":t[10]||(t[10]=y=>o(l).shippingDetail.city=y),checked:m===0},null,8,ps),[[w,o(l).shippingDetail.city]]),s("label",{class:"form-check-label",for:"location"+m},u(e.region),9,us)]))),256))])]),s("div",cs,[s("div",ms,[T(o(M),{type:"button",to:"/cart",class:"checkout-page-btn minicart-btn btn-secondary"},{default:q(()=>t[26]||(t[26]=[E("BACK TO CART ")])),_:1}),t[27]||(t[27]=s("input",{class:"checkout-page-btn minicart-btn btn-primary",type:"submit",value:"CREATE ORDER"},null,-1))])])],32)])])]),s("div",gs,[s("div",bs,[t[34]||(t[34]=s("h3",{class:"d-none d-lg-block mb-0 text-center heading_24 mb-4"}," Order summary ",-1)),(r(!0),d(b,null,h(o(c).cartItems,(e,m)=>(r(),d("div",{class:"minicart-item d-flex",key:m},[s("div",hs,[s("img",{class:"mini-img",src:e.images[0].img,alt:"img"},null,8,vs)]),s("div",ys,[s("h2",fs,[s("a",_s,u(e.name),1)]),s("p",Ds," ₦"+u(e.new_price)+" x "+u(e.count),1)])]))),128)),s("div",ks,[s("div",Us,[t[29]||(t[29]=s("h4",{class:"subtotal-title"},"Subtotals:",-1)),s("p",ws,"₦"+u(o(c).cartSubtotal),1)]),s("div",xs,[t[30]||(t[30]=s("h4",{class:"subtotal-title"},"Shipping:",-1)),o(l).shippingCost[0]?(r(),d("p",Vs," ₦"+u(o(l).shippingCost[0].price||0),1)):(r(),d("p",Ss," loading "))]),s("div",Cs,[t[31]||(t[31]=s("h4",{class:"subtotal-title"},"Discount:",-1)),s("p",Rs," ₦"+u(o(c).cartTotalDiscount),1)]),t[33]||(t[33]=s("hr",null,null,-1)),s("div",Ts,[t[32]||(t[32]=s("h4",{class:"subtotal-title"},"Total:",-1)),o(l).shippingCost[0]?(r(),d("p",qs," ₦"+u(o(c).cartSubtotal+o(l).shippingCost[0].price-o(c).cartTotalDiscount),1)):B("",!0)])])])])])])]))}};export{Ms as default};
