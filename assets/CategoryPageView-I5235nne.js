import{o as a,c as m,r as p,F as h,d as g,w as l,e as f,u as n,n as S,f as u,R as C,g as e,t as y,h as B,s as $,k as w,v as A,j as V,i as D,x as N,l as j,q as F}from"./index-DbNaZTFe.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as I,_ as H}from"./ProductPage-SGUzyHhM.js";import{S as k,a as b,N as x}from"./ProductSingle-C43XLboL.js";import{A as P,P as O,u as q}from"./home-DoG9MVV6.js";import"./plus-CLXrtRrJ.js";const z={};function L(s,o){return a(),m(h,null,[p(s.$slots,"categories"),p(s.$slots,"latest"),p(s.$slots,"discounted"),p(s.$slots,"popular")],64)}const R=v(z,[["render",L]]),T={class:"text-dark bg-light m-2 py-2 px-3 rounded"},W={__name:"CategoriesSlide",props:{items:Array,required:!0},setup(s){const o=[P,O,x];return(i,c)=>(a(),g(n(b),{spaceBetween:10,slidesPerView:3,autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{602:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:30}},pagination:{clickable:!0},navigation:!0,modules:o,class:"mySwiper"},{default:l(()=>[(a(!0),m(h,null,f(s.items,(t,d)=>(a(),g(n(k),{style:S(`background-image: url(${t.img}); background-position: center;background-repeat: no-repeat; background-size: cover; height: 18rem !important;`),key:d,class:"py-4 card d-block d-flex align-items-center"},{default:l(()=>[u(n(C),{to:{name:"categories",params:{categories_slug:t.slug}}},{default:l(()=>[e("h3",T,y(t.name),1)]),_:2},1032,["to"])]),_:2},1032,["style"]))),128))]),_:1}))}},E={__name:"DiscountedSlide",props:{products:{type:Array,required:!0},title:{type:String},numSlide:{type:Number,default:5}},setup(s){const o=[P,x];return(i,c)=>(a(),g(n(b),{slidesPerView:5,spaceBetween:20,navigation:!0,breakpoints:{640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:15},1024:{slidesPerView:5,spaceBetween:20}},modules:o,class:".container mySwiper"},{default:l(()=>[(a(!0),m(h,null,f(s.products,(t,d)=>(a(),m(h,{key:d},[t.images.length?(a(),g(n(k),{key:0},{default:l(()=>[u(I,{name:t.product.name,price:t.product.new_price,costPrice:t.product.price,product_id:t.product.id,image:t.images[0].img,discount:t.product.discount,condition:t.product.condition,onAddCart:_=>i.prod.addToCart(t),onAddWish:_=>i.wish.addWishlist(t.product.id),onClick:_=>i.modalShow(t)},null,8,["name","price","costPrice","product_id","image","discount","condition","onAddCart","onAddWish","onClick"])]),_:2},1024)):B("",!0)],64))),128))]),_:1}))}},Z=v(E,[["__scopeId","data-v-52914a69"]]),M=$("bycategories",()=>{const s=w(0),o=w([]);return{count:s,productsInCategory:o,getProductsByCategory:async c=>{try{const t=await A.get(`api/products/?product__category__slug=${c}`);o.value=t.data,console.log(t.data)}catch(t){console.log(t)}}}}),G={class:"promotinal-product-section overlay-tools mt-100 overflow-hidden"},J={class:"container-fluid"},K={class:"row"},Q={class:"col-lg-8 col-12 align-self-center"},U={class:"collection mt-100"},X={class:"container"},Y={class:"row"},ee={class:"col-lg-12 col-md-12 col-12"},te={class:"filter-sort-wrapper d-flex justify-content-between flex-wrap"},se={class:"collection-title-wrap d-flex align-items-end"},oe={class:"collection-counter text_16 mb-0 ms-2"},ie={class:"featured-collection-section mt-100 home-section overflow-hidden"},ae={class:"container"},ge={__name:"CategoryPageView",setup(s){const o=F(),i=M(),c=V(),t=q(),d=D();return c.pages.limit=8,N(async()=>await i.getProductsByCategory(o.params.categories_slug)),j(async()=>{await i.getProductsByCategory(o.params.categories_slug),await t.getPromoted(),await t.getDiscounted(),await c.getProducts()}),(_,r)=>(a(),g(R,null,{categories:l(()=>[e("div",G,[e("div",J,[e("div",K,[r[0]||(r[0]=e("div",{class:"col-lg-4 col-12 d-flex align-items-center"},[e("div",{class:"promotinal-product-content","data-aos":"fade-up","data-aos-duration":"700"},[e("p",{class:"heading_18 primary-color mb-3"},"Navigate our various product categories"),e("h2",{class:"heading_34 text-white mb-3"},"Products Categories"),e("p",{class:"text_16 text-white mb-3"}," Discover a wide range of products on Tagbiz. Explore categories like electronics, fashion, home goods, beauty, sports, and more. Find everything you need in one convenient place with great deals and fast shipping. "),e("div",{class:"view-all mt-4"},[e("a",{class:"btn-secondary",href:"collection-left-sidebar.html"},"SHOP TOOLS")])])],-1)),e("div",Q,[u(W,{items:n(d).categories},null,8,["items"])])])])])]),latest:l(()=>[e("div",U,[e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[e("div",se,[r[1]||(r[1]=e("h2",{class:"collection-title heading_24 mb-0"},"All products",-1)),e("p",oe,"("+y(n(i).productsInCategory.length)+" items) ",1)]),r[2]||(r[2]=e("div",{class:"filter-sorting"},[e("div",{class:"collection-sorting position-relative d-none d-lg-block"},[e("div",{class:"sorting-header text_16 d-flex align-items-center justify-content-end"},[e("span",{class:"sorting-title me-2"},"Sort by:"),e("span",{class:"active-sorting"},"Featured"),e("span",{class:"sorting-icon"},[e("svg",{uclass:"icon icon-down",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-down"},[e("polyline",{points:"6 9 12 15 18 9"})])])]),e("ul",{class:"sorting-lists list-unstyled m-0"},[e("li",null,[e("a",{href:"#",class:"text_14"},"Featured")]),e("li",null,[e("a",{href:"#",class:"text_14"},"Best Selling")]),e("li",null,[e("a",{href:"#",class:"text_14"},"Alphabetically, A-Z")]),e("li",null,[e("a",{href:"#",class:"text_14"},"Alphabetically, Z-A")]),e("li",null,[e("a",{href:"#",class:"text_14"},"Price, low to high")]),e("li",null,[e("a",{href:"#",class:"text_14"},"Price, high to low")]),e("li",null,[e("a",{href:"#",class:"text_14"},"Date, old to new")]),e("li",null,[e("a",{href:"#",class:"text_14"},"Date, new to old")])])]),e("div",{class:"filter-drawer-trigger mobile-filter d-flex align-items-center d-lg-none"},[e("span",{class:"mobile-filter-icon me-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-filter"},[e("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})])]),e("span",{class:"mobile-filter-heading"},"Sorting")])],-1))]),u(H,{products:n(i).productsInCategory,show:!1},null,8,["products"])])])])])]),discounted:l(()=>[e("div",ie,[e("div",ae,[r[3]||(r[3]=e("div",{class:"section-header"},[e("h2",{class:"section-heading"},"Highly Discounted Products")],-1)),u(Z,{products:n(t).latests,numSlide:4},null,8,["products"])])])]),_:1}))}};export{ge as default};
